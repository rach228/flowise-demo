{"nodes":[{"width":300,"height":330,"id":"openAIEmbeddings_0","position":{"x":-485.7532561700214,"y":420.8761308382209},"type":"customNode","data":{"id":"openAIEmbeddings_0","label":"OpenAI Embeddings","version":1,"name":"openAIEmbeddings","type":"OpenAIEmbeddings","baseClasses":["OpenAIEmbeddings","Embeddings"],"category":"Embeddings","description":"OpenAI API to generate embeddings for a given text","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["openAIApi"],"id":"openAIEmbeddings_0-input-credential-credential"},{"label":"Strip New Lines","name":"stripNewLines","type":"boolean","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-stripNewLines-boolean"},{"label":"Batch Size","name":"batchSize","type":"number","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-batchSize-number"},{"label":"Timeout","name":"timeout","type":"number","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-timeout-number"},{"label":"BasePath","name":"basepath","type":"string","optional":true,"additionalParams":true,"id":"openAIEmbeddings_0-input-basepath-string"}],"inputAnchors":[],"inputs":{"stripNewLines":"","batchSize":"","timeout":"","basepath":""},"outputAnchors":[{"id":"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings","name":"openAIEmbeddings","label":"OpenAIEmbeddings","type":"OpenAIEmbeddings | Embeddings"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-485.7532561700214,"y":420.8761308382209},"dragging":false},{"width":300,"height":481,"id":"conversationalRetrievalQAChain_0","position":{"x":870.3499023746608,"y":1008.5688576728237},"type":"customNode","data":{"id":"conversationalRetrievalQAChain_0","label":"Conversational Retrieval QA Chain","version":1,"name":"conversationalRetrievalQAChain","type":"ConversationalRetrievalQAChain","baseClasses":["ConversationalRetrievalQAChain","BaseChain","Runnable"],"category":"Chains","description":"Document QA - built on RetrievalQAChain to provide a chat history component","inputParams":[{"label":"Return Source Documents","name":"returnSourceDocuments","type":"boolean","optional":true,"id":"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean"},{"label":"System Message","name":"systemMessagePrompt","type":"string","rows":4,"additionalParams":true,"optional":true,"placeholder":"I want you to act as a document that I am having a conversation with. Your name is \"AI Assistant\". You will provide me with answers from the given info. If the answer is not included, say exactly \"Hmm, I am not sure.\" and stop after that. Refuse to answer any question not about the info. Never break character.","id":"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string"},{"label":"Chain Option","name":"chainOption","type":"options","options":[{"label":"MapReduceDocumentsChain","name":"map_reduce","description":"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time"},{"label":"RefineDocumentsChain","name":"refine","description":"Suitable for QA tasks over a large number of documents."},{"label":"StuffDocumentsChain","name":"stuff","description":"Suitable for QA tasks over a small number of documents."}],"additionalParams":true,"optional":true,"id":"conversationalRetrievalQAChain_0-input-chainOption-options"}],"inputAnchors":[{"label":"Language Model","name":"model","type":"BaseLanguageModel","id":"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel"},{"label":"Vector Store Retriever","name":"vectorStoreRetriever","type":"BaseRetriever","id":"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever"},{"label":"Memory","name":"memory","type":"BaseMemory","optional":true,"description":"If left empty, a default BufferMemory will be used","id":"conversationalRetrievalQAChain_0-input-memory-BaseMemory"}],"inputs":{"model":"{{chatOpenAI_0.data.instance}}","vectorStoreRetriever":"{{chromaUpsert_0.data.instance}}","memory":"{{bufferWindowMemory_0.data.instance}}","returnSourceDocuments":"","systemMessagePrompt":"","chainOption":""},"outputAnchors":[{"id":"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain|Runnable","name":"conversationalRetrievalQAChain","label":"ConversationalRetrievalQAChain","type":"ConversationalRetrievalQAChain | BaseChain | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":870.3499023746608,"y":1008.5688576728237},"dragging":false},{"width":300,"height":525,"id":"chatOpenAI_0","position":{"x":487.1671554326233,"y":425.5277080326421},"type":"customNode","data":{"id":"chatOpenAI_0","label":"ChatOpenAI","version":1,"name":"chatOpenAI","type":"ChatOpenAI","baseClasses":["ChatOpenAI","BaseChatModel","BaseLanguageModel","Runnable"],"category":"Chat Models","description":"Wrapper around OpenAI large language models that use the Chat endpoint","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","credentialNames":["openAIApi"],"id":"chatOpenAI_0-input-credential-credential"},{"label":"Model Name","name":"modelName","type":"options","options":[{"label":"gpt-4","name":"gpt-4"},{"label":"gpt-4-0613","name":"gpt-4-0613"},{"label":"gpt-4-32k","name":"gpt-4-32k"},{"label":"gpt-4-32k-0613","name":"gpt-4-32k-0613"},{"label":"gpt-3.5-turbo","name":"gpt-3.5-turbo"},{"label":"gpt-3.5-turbo-0613","name":"gpt-3.5-turbo-0613"},{"label":"gpt-3.5-turbo-16k","name":"gpt-3.5-turbo-16k"},{"label":"gpt-3.5-turbo-16k-0613","name":"gpt-3.5-turbo-16k-0613"}],"default":"gpt-3.5-turbo","optional":true,"id":"chatOpenAI_0-input-modelName-options"},{"label":"Temperature","name":"temperature","type":"number","step":0.1,"default":0.9,"optional":true,"id":"chatOpenAI_0-input-temperature-number"},{"label":"Max Tokens","name":"maxTokens","type":"number","step":1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-maxTokens-number"},{"label":"Top Probability","name":"topP","type":"number","step":0.1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-topP-number"},{"label":"Frequency Penalty","name":"frequencyPenalty","type":"number","step":0.1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-frequencyPenalty-number"},{"label":"Presence Penalty","name":"presencePenalty","type":"number","step":0.1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-presencePenalty-number"},{"label":"Timeout","name":"timeout","type":"number","step":1,"optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-timeout-number"},{"label":"BasePath","name":"basepath","type":"string","optional":true,"additionalParams":true,"id":"chatOpenAI_0-input-basepath-string"}],"inputAnchors":[],"inputs":{"modelName":"gpt-4","temperature":"0.5","maxTokens":"","topP":"","frequencyPenalty":"","presencePenalty":"","timeout":"","basepath":""},"outputAnchors":[{"id":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable","name":"chatOpenAI","label":"ChatOpenAI","type":"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":487.1671554326233,"y":425.5277080326421},"dragging":false},{"width":300,"height":382,"id":"cheerioWebScraper_0","position":{"x":-484.52998308596824,"y":992.0633791221885},"type":"customNode","data":{"id":"cheerioWebScraper_0","label":"Cheerio Web Scraper","version":1,"name":"cheerioWebScraper","type":"Document","baseClasses":["Document"],"category":"Document Loaders","description":"Load data from webpages","inputParams":[{"label":"URL","name":"url","type":"string","id":"cheerioWebScraper_0-input-url-string"},{"label":"Get Relative Links Method","name":"relativeLinksMethod","type":"options","description":"Select a method to retrieve relative links","options":[{"label":"Web Crawl","name":"webCrawl","description":"Crawl relative links from HTML URL"},{"label":"Scrape XML Sitemap","name":"scrapeXMLSitemap","description":"Scrape relative links from XML sitemap URL"}],"optional":true,"additionalParams":true,"id":"cheerioWebScraper_0-input-relativeLinksMethod-options"},{"label":"Get Relative Links Limit","name":"limit","type":"number","optional":true,"additionalParams":true,"description":"Only used when \"Get Relative Links Method\" is selected. Set 0 to retrieve all relative links, default limit is 10.","warning":"Retreiving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)","id":"cheerioWebScraper_0-input-limit-number"},{"label":"Metadata","name":"metadata","type":"json","optional":true,"additionalParams":true,"id":"cheerioWebScraper_0-input-metadata-json"}],"inputAnchors":[{"label":"Text Splitter","name":"textSplitter","type":"TextSplitter","optional":true,"id":"cheerioWebScraper_0-input-textSplitter-TextSplitter"}],"inputs":{"url":"https://access.redhat.com/documentation/en-us/openshift_container_platform/4.13/html-single/about/index","textSplitter":"{{recursiveCharacterTextSplitter_0.data.instance}}","relativeLinksMethod":"","limit":"","metadata":""},"outputAnchors":[{"id":"cheerioWebScraper_0-output-cheerioWebScraper-Document","name":"cheerioWebScraper","label":"Document","type":"Document"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-484.52998308596824,"y":992.0633791221885},"dragging":false},{"width":300,"height":378,"id":"recursiveCharacterTextSplitter_0","position":{"x":-892.5751212048638,"y":791.1088186200254},"type":"customNode","data":{"id":"recursiveCharacterTextSplitter_0","label":"Recursive Character Text Splitter","version":1,"name":"recursiveCharacterTextSplitter","type":"RecursiveCharacterTextSplitter","baseClasses":["RecursiveCharacterTextSplitter","TextSplitter","BaseDocumentTransformer","Runnable"],"category":"Text Splitters","description":"Split documents recursively by different characters - starting with \"\n\n\", then \"\n\", then \" \"","inputParams":[{"label":"Chunk Size","name":"chunkSize","type":"number","default":1000,"optional":true,"id":"recursiveCharacterTextSplitter_0-input-chunkSize-number"},{"label":"Chunk Overlap","name":"chunkOverlap","type":"number","optional":true,"id":"recursiveCharacterTextSplitter_0-input-chunkOverlap-number"}],"inputAnchors":[],"inputs":{"chunkSize":1000,"chunkOverlap":""},"outputAnchors":[{"id":"recursiveCharacterTextSplitter_0-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable","name":"recursiveCharacterTextSplitter","label":"RecursiveCharacterTextSplitter","type":"RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer | Runnable"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":-892.5751212048638,"y":791.1088186200254},"dragging":false},{"width":300,"height":656,"id":"chromaUpsert_0","position":{"x":-47.33876367286601,"y":653.0484335422038},"type":"customNode","data":{"id":"chromaUpsert_0","label":"Chroma Upsert Document","version":1,"name":"chromaUpsert","type":"Chroma","baseClasses":["Chroma","VectorStoreRetriever","BaseRetriever"],"category":"Vector Stores","description":"Upsert documents to Chroma","inputParams":[{"label":"Connect Credential","name":"credential","type":"credential","description":"Only needed if you have chroma on cloud services with X-Api-key","optional":true,"credentialNames":["chromaApi"],"id":"chromaUpsert_0-input-credential-credential"},{"label":"Collection Name","name":"collectionName","type":"string","id":"chromaUpsert_0-input-collectionName-string"},{"label":"Chroma URL","name":"chromaURL","type":"string","optional":true,"id":"chromaUpsert_0-input-chromaURL-string"},{"label":"Top K","name":"topK","description":"Number of top results to fetch. Default to 4","placeholder":"4","type":"number","additionalParams":true,"optional":true,"id":"chromaUpsert_0-input-topK-number"}],"inputAnchors":[{"label":"Document","name":"document","type":"Document","list":true,"id":"chromaUpsert_0-input-document-Document"},{"label":"Embeddings","name":"embeddings","type":"Embeddings","id":"chromaUpsert_0-input-embeddings-Embeddings"}],"inputs":{"document":["{{cheerioWebScraper_0.data.instance}}"],"embeddings":"{{openAIEmbeddings_0.data.instance}}","collectionName":"dfw_summit_collection","chromaURL":"http://192.168.68.73:8000","topK":""},"outputAnchors":[{"name":"output","label":"Output","type":"options","options":[{"id":"chromaUpsert_0-output-retriever-Chroma|VectorStoreRetriever|BaseRetriever","name":"retriever","label":"Chroma Retriever","type":"Chroma | VectorStoreRetriever | BaseRetriever"},{"id":"chromaUpsert_0-output-vectorStore-Chroma|VectorStore","name":"vectorStore","label":"Chroma Vector Store","type":"Chroma | VectorStore"}],"default":"retriever"}],"outputs":{"output":"retriever"},"selected":false},"selected":false,"positionAbsolute":{"x":-47.33876367286601,"y":653.0484335422038},"dragging":false},{"width":300,"height":476,"id":"bufferWindowMemory_0","position":{"x":426.6685584276553,"y":1225.5388303315713},"type":"customNode","data":{"id":"bufferWindowMemory_0","label":"Buffer Window Memory","version":1,"name":"bufferWindowMemory","type":"BufferWindowMemory","baseClasses":["BufferWindowMemory","BaseChatMemory","BaseMemory"],"category":"Memory","description":"Uses a window of size k to surface the last k back-and-forths to use as memory","inputParams":[{"label":"Memory Key","name":"memoryKey","type":"string","default":"chat_history","id":"bufferWindowMemory_0-input-memoryKey-string"},{"label":"Input Key","name":"inputKey","type":"string","default":"input","id":"bufferWindowMemory_0-input-inputKey-string"},{"label":"Size","name":"k","type":"number","default":"4","description":"Window of size k to surface the last k back-and-forths to use as memory.","id":"bufferWindowMemory_0-input-k-number"}],"inputAnchors":[],"inputs":{"memoryKey":"chat_history","inputKey":"input","k":"10"},"outputAnchors":[{"id":"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory","name":"bufferWindowMemory","label":"BufferWindowMemory","type":"BufferWindowMemory | BaseChatMemory | BaseMemory"}],"outputs":{},"selected":false},"selected":false,"positionAbsolute":{"x":426.6685584276553,"y":1225.5388303315713},"dragging":false}],"edges":[{"source":"chatOpenAI_0","sourceHandle":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable","target":"conversationalRetrievalQAChain_0","targetHandle":"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel","type":"buttonedge","id":"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel","data":{"label":""}},{"source":"recursiveCharacterTextSplitter_0","sourceHandle":"recursiveCharacterTextSplitter_0-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable","target":"cheerioWebScraper_0","targetHandle":"cheerioWebScraper_0-input-textSplitter-TextSplitter","type":"buttonedge","id":"recursiveCharacterTextSplitter_0-recursiveCharacterTextSplitter_0-output-recursiveCharacterTextSplitter-RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer|Runnable-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter","data":{"label":""}},{"source":"cheerioWebScraper_0","sourceHandle":"cheerioWebScraper_0-output-cheerioWebScraper-Document","target":"chromaUpsert_0","targetHandle":"chromaUpsert_0-input-document-Document","type":"buttonedge","id":"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-chromaUpsert_0-chromaUpsert_0-input-document-Document","data":{"label":""}},{"source":"openAIEmbeddings_0","sourceHandle":"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings","target":"chromaUpsert_0","targetHandle":"chromaUpsert_0-input-embeddings-Embeddings","type":"buttonedge","id":"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-chromaUpsert_0-chromaUpsert_0-input-embeddings-Embeddings","data":{"label":""}},{"source":"chromaUpsert_0","sourceHandle":"chromaUpsert_0-output-retriever-Chroma|VectorStoreRetriever|BaseRetriever","target":"conversationalRetrievalQAChain_0","targetHandle":"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","type":"buttonedge","id":"chromaUpsert_0-chromaUpsert_0-output-retriever-Chroma|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever","data":{"label":""}},{"source":"bufferWindowMemory_0","sourceHandle":"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory","target":"conversationalRetrievalQAChain_0","targetHandle":"conversationalRetrievalQAChain_0-input-memory-BaseMemory","type":"buttonedge","id":"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory","data":{"label":""}}]}
